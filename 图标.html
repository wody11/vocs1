<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<div id="main" style="height:400px"></div>
<!-- ECharts单文件引入 -->
<script src="http://echarts.baidu.com/build/dist/echarts-all.js"></script>
<script src="http://cdn.static.runoob.com/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript">
    var pagewidth = $(window).width();
    var pageheight = $(window).height();
    $("#main").height(pageheight * 0.6);
    $("#main").width(pagewidth * 0.95);
    // 基于准备好的dom，初始化echarts图表
    var tb = function () {
        var myChart = echarts.init(document.getElementById('main'));

        var option = {
            title: {
                text: "某站点用户访问来源",
                subtext: "纯属虚构",
                x: "center"
            },
            tooltip: {
                trigger: "item",
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            legend: {
                orient: "vertical",
                x: "left",
                data: ["直接访问", "邮件营销", "联盟广告", "视频广告", "搜索引擎"]
            },
            toolbox: {
                show: true,
                feature: {
                    mark: {
                        show: true
                    },
                    dataView: {
                        show: true,
                        readOnly: true
                    },
                    restore: {
                        show: true
                    },
                    saveAsImage: {
                        show: true
                    }
                }
            },
            calculable: true,
            series: [
                {
                    name: "访问来源",
                    type: "pie",
                    radius: "55%",
                    center: ["50%", "60%"],
                    itemStyle: {
                        normal: {
                            label: {
                                show: true,
                                formatter: "{b}: {c} ({d}%)"
                            }
                        }
                    },
                    data: [
                        {
                            value: 335,
                            name: "直接访问"
                        },
                        {
                            value: 310,
                            name: "邮件营销"
                        },
                        {
                            value: 234,
                            name: "联盟广告"
                        },
                        {
                            value: 135,
                            name: "视频广告"
                        },
                        {
                            value: 1548,
                            name: "搜索引擎"
                        }
                    ]
                }
            ]
        }

        // 为echarts对象加载数据
        myChart.setOption(option);
    }
    tb();
</script>
</body>